{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/srijanpatel/Documents/vyne-ai/app/api/vyne/schema.ts"],"sourcesContent":["import { z } from \"zod\";\n\nconst summarySchema = `A detailed, structured summary of the generated project in the following EXACT format:\n### Title\n[Project Name Based on User Request]\n\n### Description\n[2â€“3 sentences describing what the app does and its purpose]\n\n### Theme & Design\n  [Choice of colors, typography, layout style,animations, and overall aesthetic]\n\n### Key Features\n [Features included in the app]\n`;\n\n// A single file representation\nconst FileSchema = z.object({\n  path: z\n    .string()\n    .describe(\n      \"The full path of the file, e.g., 'src/main.jsx' or 'index.html'\"\n    ),\n  contents: z.string().describe(\"The complete text content of the file.\"),\n});\n\n// The root project schema\nexport const ProjectSchema = z.object({\n  files: z\n    .array(FileSchema)\n    .describe(\"A flat list of all files in the project.\"),\n  summary: z.string().describe(summarySchema),\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,CAAC;;;;;;;;;;;;AAYvB,CAAC;AAED,+BAA+B;AAC/B,MAAM,aAAa,oLAAC,CAAC,MAAM,CAAC;IAC1B,MAAM,oLAAC,CACJ,MAAM,GACN,QAAQ,CACP;IAEJ,UAAU,oLAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAChC;AAGO,MAAM,gBAAgB,oLAAC,CAAC,MAAM,CAAC;IACpC,OAAO,oLAAC,CACL,KAAK,CAAC,YACN,QAAQ,CAAC;IACZ,SAAS,oLAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC/B","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///Users/srijanpatel/Documents/vyne-ai/app/api/vyne/route.ts"],"sourcesContent":["import { google } from \"@ai-sdk/google\";\nimport { convertToModelMessages, streamObject } from \"ai\";\nimport { ProjectSchema } from \"./schema\";\nimport Prompt from \"./Prompt\";\n\nexport const maxDuration = 100;\n\nexport async function POST(req: Request) {\n  try {\n    const body = await req.json();\n    console.log(\"API - Received request body:\", body);\n\n    const clientMessages = body.map((msg:any)=>{\n      if (msg.role==\"assistant\" ){\n        return {\n          role:\"assistant\",\n          content: msg.content.summary\n        }\n      }else return msg\n    \n    })\n\n    const systemMessage = {\n      role: \"system\",\n      content: `\nYou are VYNE, an expert AI software architect.\nAlways return structured data matching the ProjectSchema exactly.\nExplain reasoning first ,then provide file structure and finally summary too.\n`,\n    };\n    const messages = [systemMessage, ...clientMessages];\n    console.log(\"API - Constructed messages:\", messages);\n\n    const result = await streamObject({\n      model: google(\"models/gemini-2.5-pro\"),\n      schema: ProjectSchema,\n      messages: messages,\n    });\n    console.log(\"API - Generated result:\", result);\n\n    return result.toTextStreamResponse();\n \n  } catch (error) {\n    console.error(\"API Error:\", error);\n    return new Response(\n      JSON.stringify({ error: \"Failed to generate project\" }),\n      {\n        status: 500,\n        headers: { \"Content-Type\": \"application/json\" },\n      }\n    );\n  }\n}\n\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAGO,MAAM,cAAc;AAEpB,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,QAAQ,GAAG,CAAC,gCAAgC;QAE5C,MAAM,iBAAiB,KAAK,GAAG,CAAC,CAAC;YAC/B,IAAI,IAAI,IAAI,IAAE,aAAa;gBACzB,OAAO;oBACL,MAAK;oBACL,SAAS,IAAI,OAAO,CAAC,OAAO;gBAC9B;YACF,OAAM,OAAO;QAEf;QAEA,MAAM,gBAAgB;YACpB,MAAM;YACN,SAAS,CAAC;;;;AAIhB,CAAC;QACG;QACA,MAAM,WAAW;YAAC;eAAkB;SAAe;QACnD,QAAQ,GAAG,CAAC,+BAA+B;QAE3C,MAAM,SAAS,MAAM,IAAA,sKAAY,EAAC;YAChC,OAAO,IAAA,mKAAM,EAAC;YACd,QAAQ,+IAAa;YACrB,UAAU;QACZ;QACA,QAAQ,GAAG,CAAC,2BAA2B;QAEvC,OAAO,OAAO,oBAAoB;IAEpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YAAE,OAAO;QAA6B,IACrD;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ;AACF","debugId":null}}]
}